section.search-result
  navbar(data-search-input-query-value="vm.stateParams.q")
  preloader(data-is-loading= "vm.isSearchLoading")

    search-filters(data-tags="vm.tags")
    no-consultations(data-query="vm.stateParams.q"
    data-ng-if="!vm.isSearchLoading && (!vm.searchResults || vm.searchResults.length === 0)")
    div(infinite-scroll="vm.loadMoreResults()"
    infinite-scroll-distance="6"
    infinite-scroll-disabled="vm.isLoadMoreError")

      single-consultation(data-ng-repeat="result in vm.searchResults track by $index" data-consultation="result")
      preloader-container(data-is-loading="vm.isMoreResultsLoading" data-is-error="vm.isLoadMoreError"
      data-error-fn="vm.onLoadMoreError" data-error-message="SEARCH.PRELOADER_CONTAINER.ERROR_MESSAGE")
    pro-footer
