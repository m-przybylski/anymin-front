@import "../../../template/profitelo_theme/stylesheets/core/helpers/helpers"
@import "../../../template/profitelo_theme/stylesheets/variables/variables"
@import "../../../template/profitelo_theme/stylesheets/core/interface/typography/typography"

.navbar
  background: $c-white
  height: 64px
  display: flex
  justify-content: space-between
  z-index: $z-index-700
  position: fixed
  left: 0
  top: 0
  width: 100%
  transition: transform 0.4s
  transform: translateY(0)

  &::after
    content: ''
    position: absolute
    bottom: 0
    left: 0
    width: 100%
    height: 1px
    z-index: $z-index-100
    box-shadow: 0 1px 2px 0 rgba($c-black, 0.15)

  &.is-hidden
    transform: translateY(-64px)

  .navbar-logo
    display: inline-flex
    align-items: center

    +smm
      padding: 0 24px
      border-right: 1px solid $c-lines

    img
      max-width: 24px

  .navbar-search
    display: inline-flex
    align-items: center
    padding: 0 16px
    order: -1

    +smm
      flex: 1
      order: 0
      padding: 0 0 0 16px
      overflow: hidden

    .search-expandable
      position: fixed
      top: 0
      left: 64px
      padding: 0 16px 0 0
      width: calc(100% - 64px)
      height: $s-navbar-height
      background: $c-white
      z-index: $z-index-200
      display: flex
      align-items: center
      justify-content: space-between

      +smm
        width: 100%
        position: relative
        display: flex !important
        padding: 0
        margin: 0 0 0 16px
        left: 0

      .btn-close
        opacity: 0

        +smm
          display: none

      .pro-search-dropdown
        position: absolute
        width: calc(100% - 72px)
        height: 100%
        top: 0
        left: 0

        +mdm
          width: 100%

        .search-bar-container
          position: static

        input
          position: absolute
          left: 0
          top: 0
          height: 100%
          border: 0
          box-shadow: none


    .search-btn
      display: inline-flex
      align-items: center
      z-index: $z-index-100

  nav
    display: flex
    align-items: stretch

    .mobile-nav
      display: inline-flex
      align-items: center

      +smm
        border-left: 1px solid $c-lines

      +lgm
        display: none

      .mobile-nav-hamburger
        height: 100%
        display: flex
        align-items: center

      #hamburger
        background: none
        display: flex
        flex-direction: column
        justify-content: space-between
        height: 16px
        padding: 0 16px

        +lgm
          display: none

        span
          position: relative
          background: $c-secondary-txt
          width: 24px
          height: 1px
          display: block
          opacity: 1
          top: 0
          transition: top 0.3s 0.3s, transform 0.3s
          transform-origin: 50% 50%

      &.is-active
        #hamburger
          span
            transition: top 0.3s 0.3s

            &:nth-child(2)
              opacity: 0
              transition: opacity 0s 0.3s

            &:first-child
              transition: top 0.3s, transform 0.3s 0.3s
              transform: rotate(45deg)
              top: 8px

            &:last-child
              transition: top 0.3s, transform 0.3s 0.3s
              transform: rotate(-45deg)
              top: -7px

    .navbar-navigation
      position: absolute
      right: 0
      top: 100%
      width: 100%
      height: 100vh
      background: $c-white
      z-index: $z-index-100

      +smm
        width: 320px
        height: auto
        box-shadow: 0 1px 2px 0 rgba($c-black, 0.15)

      +lgm
        animation: none
        width: auto
        display: flex !important
        position: static
        box-shadow: none

      > *
        +lgm
          display: flex

      &.is-active
        display: block

        +lgm
          display: flex

      .navbar-parent
        margin: 0 16px

        +smm
          margin: 0 24px

        +lgm
          margin: 0 8px

        a
          padding: 12px 0
          flex: 1 0
          justify-content: space-between

          +lgm
            padding: 0

          .navbar-item-handler
            display: inline-flex
            align-items: center

      [class*="state"]
        +mdm
          margin: 8px 0

        +lgm
          margin: 0

        > li
          margin: 0
          display: block

          +lgm
            display: flex
            align-items: stretch

        .navbar-notifications
          border-bottom: 1px solid $c-lines
          order: -1

          +lgm
            order: 0
            border: 0
            margin: 0 24px 0 4px

        ul
          padding: 12px 0

          +lgm
            padding: 0

          li:not(.navbar-parent)
            display: block
            padding: 0 16px
            margin: 0

            +smm
              padding: 0 24px

            +lgm
              padding: 0 12px
              display: flex

            a
              display: flex
              justify-content: flex-start
              padding: 12px 0

              &.btn
                +lgm
                  padding: 0 24px

              +lgm
                padding: 0

      > ul
        > li
          margin: 0

    ul
      display: flex
      flex-direction: column

      +lgm
        flex-direction: row

      li
        display: flex
        align-items: center
        margin: 0 16px

        a
          &.btn
            +default-font-medium
            padding: 0
            border: 0
            color: $c-secondary-txt
            height: auto

            +lgm
              padding: 0 24px
              border: 1px solid $c-lines
              color: $c-primary
              height: 32px

          &:not(.btn)
            +default-font-medium
            font-size: $f-navbar
            color: $c-secondary-txt
            display: flex
            align-items: center
            text-transform: uppercase

            &:hover
              color: $c-primary

          span
            &[class*="icon"]:not([class*="icon-next"])
              margin: 0 16px 0 0

              +lgm
                margin: 0

            &[class*="mobile"]
              +lgm
                display: none

  .mobile-menu-animation
    +lgm
      animation: none

    //entry
    &.ng-hide-remove-active
      animation: mobile-menu-animation-in 0.4s ease
      animation-fill-mode: forwards

      +lgm
        animation: none

    //exit
    &.ng-hide-add-active
      animation: mobile-menu-animation-out 0.4s

      +lgm
        animation: none

  .mobile-search-animation
    .btn-close
      animation: mobile-search-animation-elem-in 0.3s 0.3s
      animation-fill-mode: forwards

      +lgm
        animation: none

    //entry
    &.ng-hide-remove-active
      animation: mobile-search-animation-in 0.3s
      animation-fill-mode: forwards

      +smm
        animation: none

    //exit
    &.ng-hide-add-active
      animation: mobile-search-animation-out 0.3s
      animation-fill-mode: forwards

      +smm
        animation: none
