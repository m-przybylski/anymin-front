@import "../../../../../template/profitelo_theme/stylesheets/variables/variables"
@import "../../../../../template/profitelo_theme/stylesheets/core/helpers/helpers"

.messenger-maximized
  transition: opacity 0.3s, z-index 0s 0.3s
  background: $c-background-2
  position: absolute
  z-index: -$z-index-900
  right: 0
  bottom: 0
  width: 100%
  height: 100vh
  opacity: 0

  +smm
    right: 32px
    bottom: 120px
    height: 65%
    width: 320px
    border-radius: $s-border-radius
    animation: messenger-collapsed 0.3s
    animation-fill-mode: forwards

  .thumb
    width: 32px
    min-width: 32px
    min-height: 32px
    height: 32px


  .messenger-header
    background: $c-primary
    padding: 12px 8px 12px 16px
    display: flex
    justify-content: space-between
    align-items: center
    max-height: 48px

    span
      +paragraphTitle
      color: $c-white

      &.expert-name
        padding: 0 0 0 4px

      &.icon
        transition: opacity 0.3s
        opacity: 0.3
        font-size: $f-icon-22
        cursor: pointer

        &:hover
          opacity: 1

.messenger-message-incoming
  display: flex
  align-items: center

  .thumb
    margin: 0 16px 0 0

.messenger-messages
  position: relative
  height: calc(100% - 48px - 48px)
  display: flex
  align-items: flex-end
  width: 100%

  &.dragover
    opacity: 0.2
    background: $c-background

  > .messenger-scroll
    padding: 4px 16px 32px
    position: relative
    max-height: 100%
    flex: 1 0 100%
    overflow-y: scroll
    -webkit-overflow-scrolling: touch

    .file-loader
      background: transparent url('/assets/gifs/file-load.gif') no-repeat center center
      width: 24px
      height: 24px
      margin-left: auto

    .file-upload-error
      +default-font-regular
      font-size: 12px
      color: $c-secondary-txt
      text-align: center
      width: 100%
      &:hover
        color: $c-primary-dark

.connection-dots
  display: flex

  span
    display: flex
    align-items: center
    justify-content: center
    width: 8px
    height: 8px
    margin: 0 2px
    position: relative

    &::after
      content: ""
      display: block
      background: $c-primary-txt
      border-radius: 8px
      overflow: hidden
      width: 4px
      height: 4px
      animation: connecting-dot 1.4s infinite
      animation-timing-function: ease-in-out
      opacity: 0.5

    @for $i from 1 through 3
      &:nth-child(#{$i})
        &::after
          animation-delay: $i * 0.2s

.is-active
  .messenger-maximized
    transition: z-index 0s
    z-index: $z-index-900
    opacity: 1

    +smm
      animation: messenger-collapsing 0.3s
      animation-fill-mode: forwards
